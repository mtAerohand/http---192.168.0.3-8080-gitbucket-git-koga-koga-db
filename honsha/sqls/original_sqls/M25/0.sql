-- SQL_GET_ALL
SELECT ? AS 年,'1' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '1' UNION ALL SELECT ? AS 年,'2' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '2' UNION ALL SELECT ? AS 年,'3' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '3' UNION ALL SELECT ? AS 年,'4' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '4' UNION ALL SELECT ? AS 年,'5' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '5' UNION ALL SELECT ? AS 年,'6' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '6' UNION ALL SELECT ? AS 年,'7' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '7' UNION ALL SELECT ? AS 年,'8' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '8' UNION ALL SELECT ? AS 年,'9' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '9' UNION ALL SELECT ? AS 年,'10' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '10' UNION ALL SELECT ? AS 年,'11' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '11' UNION ALL SELECT ? AS 年,'12' AS 月,CASE WHEN COUNT(非稼働日) = 0 THEN '' ELSE '済' END AS 登録状況 FROM M_カレンダー WHERE CAST(DATE_PART('YEAR', 非稼働日) AS VARCHAR) = ? AND CAST(DATE_PART('MONTH', 非稼働日) AS VARCHAR) = '12'


